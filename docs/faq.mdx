# 常见问题

这里列出了一些常见的问题，如果这里面没有你遇到的问题、或者不能解决你的问题，你可以[将问题反馈给我](issues.mdx)。

## 如何翻译 PDF 文件？ {#how-pdf}

请前往划词翻译设置中的“通用 - PDF”，将鼠标移动到“PDF”右侧的问号图标上查看使用说明。

## 内置 PDF 阅读器划词不全、没有换行 / 能否给内置 PDF 添加标注等功能？ {#improve-pdf}

内置 PDF 阅读器使用的是第三方开源的 [PDF.js](https://mozilla.github.io/pdf.js/)，也就是 Firefox 浏览器里的 PDF 阅读器。

它目前确实有很多问题，但我无法对它进行修改、或者给它添加新的功能。如果你遇到了划词相关的问题或者觉得它功能太少，建议使用其它 PDF 阅读器打开 PDF，然后使用全局快捷键打开使用独立窗口进行翻译。

## 为何在本地打开的 html、txt 文件里（即以 file:// 开头的网址）里失效？ {#file-url}

如果你是 Chrome 或 Edge 浏览器，你需要在扩展程序页面勾选“允许访问文件网址”。步骤：

1. 右键单击浏览器地址栏右边的划词翻译图标，选择 "管理扩展"
2. 在打开的页面中勾选"允许访问文件网址"

如果你是 Firefox 浏览器，由于 Firefox 不提供本地文件的权限，所以无法做到在本地文件里使用，但你可以在复制文本后，点击地址栏右侧的划词翻译图标（或使用快捷键打开）使用。你还可以使用独立翻译窗口。

## 为什么谷歌翻译经常提示“谷歌翻译暂时不可用，请稍后再试。”？ {#why-google-crash}

~~这是谷歌翻译服务器做的限制：如果同一个 IP 地址在一段时间内频繁使用谷歌翻译的话，谷歌翻译服务器就会暂时停止提供翻译结果。如果你用过[官方的谷歌翻译扩展程序](https://chrome.google.com/webstore/detail/aapbdbdomjkkjkaonfhkkikfgjllcleb)，就会发现它也是有这个问题的。一般情况下，这个情况在半小时内就会恢复，或者你也可以用高科技工具换一个 IP 地址再使用。~~

此问题已在 v7.4.1 解决，如果遇到了这个问题，请确认你的划词翻译版本是否是最新的。

## 为什么谷歌翻译的翻译结果跟翻译网站里的不一样？ {#why-result-different}

使用谷歌翻译时，划词翻译会从两个接口获取结果，第一个接口的翻译结果跟 [translate.google.cn](https://translate.google.cn) 的结果是一致的，但是如果在一段时间内超出使用频率就不让用了，此时划词翻译会从第二个接口获取翻译结果。第二个接口没有使用频率限制，但是翻译结果可能会跟 [translate.google.cn](https://translate.google.cn) 不一样。

我已经计划在未来的版本中换一种获取谷歌翻译结果的方式以确保翻译结果一致，你可以在 [#968](https://github.com/lmk123/crx-selection-translate/issues/968) 查看进展。

## 修改快捷键后没有生效 {#edit-shortcut-key}

这是 Chrome 浏览器的问题，如果设置了一个全局快捷键后想修改或删除此键，首先要把“全局”改为“在 Chrome 中”，然后修改或删除，最后再将“在 Chrome 中”改回“全局”。否则在浏览器重启之前，这个快捷键不会生效。

## 为什么翻译服务会提示"服务器没有响应"、或一直在加载中不显示翻译结果？ {#why-services-always-loading}

### 如果只有 DeepL 出现了这个问题 {#deepl-only}

请在浏览器中尝试一下能否打开 [https://deepl.com/translator](https://deepl.com/translator)，并确保打开后的页面没有被弹窗遮挡。

举个例子，如果你注册了 DeepL 账号但又没有购买 DeepL Pro，那么当你打开这个地址时，界面会被如下弹窗遮挡：

![DeepL遮挡](./d.png)

此时就需要你退出 DeepL 账号并刷新页面确保页面无遮挡。

如果你能正常打开这个网址、且 DeepL 没有遮挡，但划词翻译仍然无法显示翻译结果，那么请[将问题反馈给我](issues.mdx)。

### 如果大部分翻译服务都出现了这个问题 {#proxy}

大概率是因为你开启了代理软件，请将各服务的地址加入直连名单。

<details style={{ marginBottom: 20 }}>
  <summary>点击查看各服务的地址</summary>
  <table>
    <thead>
      <tr>
        <th>服务名称</th>
        <th>服务地址</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>划词翻译的相关服务</td>
        <td>
          <code>https://hs-api.limingkai.cn</code>
        </td>
      </tr>
      <tr>
        <td>百度翻译</td>
        <td>
          <code>https://fanyi-api.baidu.com</code>
        </td>
      </tr>
      <tr>
        <td>腾讯翻译君</td>
        <td>
          <code>https://tmt.ap-shanghai.tencentcloudapi.com</code>
        </td>
      </tr>
      <tr>
        <td>彩云小译</td>
        <td>
          <code>https://api.interpreter.caiyunai.com</code>
        </td>
      </tr>
      <tr>
        <td>阿里翻译</td>
        <td>
          <code>https://mt.cn-hangzhou.aliyuncs.com</code>
        </td>
      </tr>
      <tr>
        <td>搜狗翻译</td>
        <td>
          <code>https://https://fanyi.sogou.com</code>
        </td>
      </tr>
      <tr>
        <td>有道翻译</td>
        <td>
          <code>https://openapi.youdao.com</code>
        </td>
      </tr>
      <tr>
        <td>百度通用文字识别</td>
        <td>
          <code>https://aip.baidubce.com</code>
        </td>
      </tr>
    </tbody>
  </table>
</details>

如果不是这个原因，那么可能真的是你的网络有问题，你可以试一下能否正常打开[百度搜索](https://www.baidu.com)。

如果都不是，请[将问题反馈给我](issues.mdx)。

## 为什么不能在 Chrome / Firefox / Edge 扩展商店里使用？ {#why-can-not-use-in-store}

这是浏览器自身的安全策略限制，任何扩展都没有权限控制扩展商店的网页。
